var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.HueSlider=HueSlider;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _GlobalStyles=require("../GlobalStyles");var _Thumbs=_interopRequireDefault(require("./Thumbs"));var _jsxFileName="D:\\Development\\--- Packages ---\\reanimated-color-picker\\lib\\components\\HueSlider.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var isRtl=_reactNative.I18nManager.isRTL;function HueSlider(_ref){var _thumbShape,_getStyle;var thumbShape=_ref.thumbShape,thumbSize=_ref.thumbSize,thumbColor=_ref.thumbColor,_ref$style=_ref.style,style=_ref$style===void 0?{}:_ref$style,_ref$vertical=_ref.vertical,vertical=_ref$vertical===void 0?false:_ref$vertical,_ref$reverse=_ref.reverse,reverse=_ref$reverse===void 0?false:_ref$reverse;var _useContext=(0,_react.useContext)(_GlobalStyles.CTX),registerHandle=_useContext.registerHandle,updateHue=_useContext.updateHue,onGestureEventFinish=_useContext.onGestureEventFinish,solidColor=_useContext.solidColor,sliderThickness=_useContext.sliderThickness,thumbsSize=_useContext.thumbSize,thumbsShape=_useContext.thumbShape;thumbShape=(_thumbShape=thumbShape)!=null?_thumbShape:thumbsShape;var thumb_Size=thumbSize!=null?thumbSize:thumbsSize;var borderRadius=(_getStyle=(0,_GlobalStyles.getStyle)(style,'borderRadius'))!=null?_getStyle:5;var id=(0,_react.useRef)('hue'+Math.random()).current;var getWidth=(0,_GlobalStyles.getStyle)(style,'width');var getHeight=(0,_GlobalStyles.getStyle)(style,'height');var _useState=(0,_react.useState)(typeof getWidth==='number'?getWidth:sliderThickness),_useState2=(0,_slicedToArray2.default)(_useState,2),width=_useState2[0],setWidth=_useState2[1];var _useState3=(0,_react.useState)(typeof getHeight==='number'?getHeight:sliderThickness),_useState4=(0,_slicedToArray2.default)(_useState3,2),height=_useState4[0],setHeight=_useState4[1];var handlePos=(0,_reactNativeReanimated.useSharedValue)(0);var handleScale=(0,_reactNativeReanimated.useSharedValue)(1);(0,_react.useEffect)(function(){registerHandle({id:id,channel:'h',axis:vertical?'y':'x',width:width,height:height,thumbSize:thumb_Size,isReversed:reverse,handle:handlePos});},[height,width,thumbSize,vertical,reverse]);var handleStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){return{transform:[{translateY:vertical?handlePos.value:height/2-thumb_Size/2},{translateX:vertical?width/2-thumb_Size/2:handlePos.value},{scale:handleScale.value}]};};_f._closure={vertical:vertical,handlePos:handlePos,height:height,thumb_Size:thumb_Size,width:width,handleScale:handleScale};_f.asString="function _f(){const{vertical,handlePos,height,thumb_Size,width,handleScale}=jsThis._closure;{return{transform:[{translateY:vertical?handlePos.value:height/2-thumb_Size/2},{translateX:vertical?width/2-thumb_Size/2:handlePos.value},{scale:handleScale.value}]};}}";_f.__workletHash=15365082942052;_f.__location="D:\\Development\\--- Packages ---\\reanimated-color-picker\\lib\\components\\HueSlider.js (32:41)";_f.__optimalization=3;return _f;}());var gestureEvent=(0,_reactNativeReanimated.useAnimatedGestureHandler)({onStart:function(){var _f=function _f(event,ctx){ctx.x=event.x;ctx.y=event.y;handleScale.value=(0,_reactNativeReanimated.withTiming)(1.2,{duration:100});};_f._closure={handleScale:handleScale,withTiming:_reactNativeReanimated.withTiming};_f.asString="function _f(event,ctx){const{handleScale,withTiming}=jsThis._closure;{ctx.x=event.x;ctx.y=event.y;handleScale.value=withTiming(1.2,{duration:100});}}";_f.__workletHash=16915922246164;_f.__location="D:\\Development\\--- Packages ---\\reanimated-color-picker\\lib\\components\\HueSlider.js (40:17)";return _f;}(),onActive:function(){var _f=function _f(event,ctx){var clamp=function clamp(v,max){return Math.min(Math.max(v,0),max);};var x=event.translationX;var y=event.translationY;var posX=clamp(x+ctx.x,width);var posY=clamp(y+ctx.y,height);var percentX=posX/width;var percentY=posY/height;var hueX=reverse?360-Math.round(percentX*360):Math.round(percentX*360);var hueY=reverse?360-Math.round(percentY*360):Math.round(percentY*360);var hue=vertical?hueY:hueX;(0,_reactNativeReanimated.runOnJS)(updateHue)(hue);};_f._closure={width:width,height:height,reverse:reverse,vertical:vertical,runOnJS:_reactNativeReanimated.runOnJS,updateHue:updateHue};_f.asString="function _f(event,ctx){const{width,height,reverse,vertical,runOnJS,updateHue}=jsThis._closure;{const clamp=function(v,max){return Math.min(Math.max(v,0),max);};const x=event.translationX;const y=event.translationY;const posX=clamp(x+ctx.x,width);const posY=clamp(y+ctx.y,height);const percentX=posX/width;const percentY=posY/height;const hueX=reverse?360-Math.round(percentX*360):Math.round(percentX*360);const hueY=reverse?360-Math.round(percentY*360):Math.round(percentY*360);const hue=vertical?hueY:hueX;runOnJS(updateHue)(hue);}}";_f.__workletHash=10659068850151;_f.__location="D:\\Development\\--- Packages ---\\reanimated-color-picker\\lib\\components\\HueSlider.js (45:18)";return _f;}(),onFinish:function(){var _f=function _f(){handleScale.value=(0,_reactNativeReanimated.withTiming)(1,{duration:100});(0,_reactNativeReanimated.runOnJS)(onGestureEventFinish)();};_f._closure={handleScale:handleScale,withTiming:_reactNativeReanimated.withTiming,runOnJS:_reactNativeReanimated.runOnJS,onGestureEventFinish:onGestureEventFinish};_f.asString="function _f(){const{handleScale,withTiming,runOnJS,onGestureEventFinish}=jsThis._closure;{handleScale.value=withTiming(1,{duration:100});runOnJS(onGestureEventFinish)();}}";_f.__workletHash=2392148412572;_f.__location="D:\\Development\\--- Packages ---\\reanimated-color-picker\\lib\\components\\HueSlider.js (58:18)";return _f;}()},[height,width,thumbSize,vertical,reverse]);var onLayout=(0,_react.useCallback)(function(_ref2){var layout=_ref2.nativeEvent.layout;setWidth(Math.round(layout.width));setHeight(Math.round(layout.height));},[]);var imageRotate=vertical?reverse?'270deg':'90deg':reverse?'180deg':'0deg';var imageTranslateY=reverse&&isRtl||!reverse&&!isRtl?height/2-width/2:-height/2+width/2;var imageStyle=typeof height==='number'&&typeof width==='number'&&{width:vertical?height:width,height:vertical?width:height,borderRadius:borderRadius,transform:[{rotate:imageRotate},{translateX:vertical?reverse?-height/2+width/2:height/2-width/2:0},{translateY:vertical?imageTranslateY:0}]};return _react.default.createElement(_reactNativeGestureHandler.PanGestureHandler,{onGestureEvent:gestureEvent,minDist:0,__self:this,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:13}},_react.default.createElement(_reactNativeReanimated.default.View,{onLayout:onLayout,style:[{borderRadius:borderRadius},vertical?{width:width}:{height:height},style,{position:'relative',borderWidth:0,padding:0}],__self:this,__source:{fileName:_jsxFileName,lineNumber:81,columnNumber:7}},_react.default.createElement(_reactNative.Image,{source:require('../assets/Hue.png'),style:imageStyle,__self:this,__source:{fileName:_jsxFileName,lineNumber:82,columnNumber:9}}),_react.default.createElement(_Thumbs.default,{channel:'h',thumbShape:thumbShape,thumbSize:thumb_Size,thumbColor:thumbColor,handleStyle:handleStyle,solidColor:solidColor,vertical:vertical,__self:this,__source:{fileName:_jsxFileName,lineNumber:83,columnNumber:9}})));}